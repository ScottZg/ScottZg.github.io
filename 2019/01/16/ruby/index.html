<!DOCTYPE html><html lang="zh-Hans"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="default" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Ruby入坑指南 | 我不是掌柜</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = 'https://hm.baidu.com/hm.js?' + 'bedfe77e6747a86ea485d0b5e0839981';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
  </script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Ruby入坑指南</h1><a id="logo" href="/.">我不是掌柜</a><p class="description">一个iOS开发工程师</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Ruby入坑指南</h1><div class="post-meta">Jan 16, 2019</div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">Inhalte</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#简介"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ruby-RUBY-ruby？"><span class="toc-number">2.</span> <span class="toc-text">Ruby?RUBY?ruby？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装方式"><span class="toc-number">3.</span> <span class="toc-text">安装方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#方式1-brew"><span class="toc-number">3.1.</span> <span class="toc-text">方式1  brew</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方式2-rvm"><span class="toc-number">3.2.</span> <span class="toc-text">方式2 rvm</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#工具"><span class="toc-number">4.</span> <span class="toc-text">工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ruby解释器命令"><span class="toc-number">5.</span> <span class="toc-text">ruby解释器命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Ruby语言基础"><span class="toc-number"></span> <span class="toc-text">Ruby语言基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#变量"><span class="toc-number">1.</span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#局部变量"><span class="toc-number">1.1.</span> <span class="toc-text">局部变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实例变量"><span class="toc-number">1.2.</span> <span class="toc-text">实例变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#类变量"><span class="toc-number">1.3.</span> <span class="toc-text">类变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#全局变量"><span class="toc-number">1.4.</span> <span class="toc-text">全局变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常量"><span class="toc-number">2.</span> <span class="toc-text">常量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#方法"><span class="toc-number">3.</span> <span class="toc-text">方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#方法名"><span class="toc-number">3.1.</span> <span class="toc-text">方法名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方法调用"><span class="toc-number">3.2.</span> <span class="toc-text">方法调用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#引用ruby文件"><span class="toc-number">4.</span> <span class="toc-text">引用ruby文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#load"><span class="toc-number">4.1.</span> <span class="toc-text">load</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#require"><span class="toc-number">4.2.</span> <span class="toc-text">require</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#require-relative"><span class="toc-number">4.3.</span> <span class="toc-text">require_relative</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据结构"><span class="toc-number">5.</span> <span class="toc-text">数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#字符串"><span class="toc-number">5.1.</span> <span class="toc-text">字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#集合"><span class="toc-number">5.2.</span> <span class="toc-text">集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数组"><span class="toc-number">5.3.</span> <span class="toc-text">数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#散列"><span class="toc-number">5.4.</span> <span class="toc-text">散列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#符号"><span class="toc-number">5.5.</span> <span class="toc-text">符号</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#符号的特点："><span class="toc-number">5.5.1.</span> <span class="toc-text">符号的特点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#实践"><span class="toc-number">5.5.2.</span> <span class="toc-text">实践</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#使用符号的好处："><span class="toc-number">5.5.3.</span> <span class="toc-text">使用符号的好处：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#类和对象"><span class="toc-number">6.</span> <span class="toc-text">类和对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#创建类"><span class="toc-number">6.1.</span> <span class="toc-text">创建类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#类的继承"><span class="toc-number">6.2.</span> <span class="toc-text">类的继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#给类添加属性"><span class="toc-number">6.3.</span> <span class="toc-text">给类添加属性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#attr-reader-amp-attr-writer"><span class="toc-number">6.3.1.</span> <span class="toc-text">attr_reader &amp; attr_writer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#attr-accessor"><span class="toc-number">6.3.2.</span> <span class="toc-text">attr_accessor</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#模块"><span class="toc-number">7.</span> <span class="toc-text">模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#include-vs-prepend"><span class="toc-number">7.1.</span> <span class="toc-text">include vs prepend</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#方法查找规则"><span class="toc-number">7.1.1.</span> <span class="toc-text">方法查找规则</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ruby块yield"><span class="toc-number">8.</span> <span class="toc-text">Ruby块yield</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#iTools"><span class="toc-number"></span> <span class="toc-text">iTools</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#介绍"><span class="toc-number">1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装"><span class="toc-number">2.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用"><span class="toc-number">3.</span> <span class="toc-text">使用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#推荐"><span class="toc-number"></span> <span class="toc-text">推荐</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#网站"><span class="toc-number">1.</span> <span class="toc-text">网站</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#书籍"><span class="toc-number">2.</span> <span class="toc-text">书籍</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#附"><span class="toc-number"></span> <span class="toc-text">附</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#预定义全局变量表"><span class="toc-number">1.</span> <span class="toc-text">预定义全局变量表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#解释器的命令行开关"><span class="toc-number">2.</span> <span class="toc-text">解释器的命令行开关</span></a></li></ol></div></div><div class="post-content"><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Ruby语言是由松本行弘（Matz）设计，是一门通用的、面向对象的、<a href="https://baike.baidu.com/item/%E8%A7%A3%E9%87%8A%E6%80%A7%E8%AF%AD%E8%A8%80/4665504?fr=aladdin" target="_blank" rel="noopener">解释型</a>语言。  </p>
<h2 id="Ruby-RUBY-ruby？"><a href="#Ruby-RUBY-ruby？" class="headerlink" title="Ruby?RUBY?ruby？"></a>Ruby?RUBY?ruby？</h2><p>1.Ruby：用来表示编程的语言<br>2.ruby：是指一个计算机程序，特指Ruby的解释器<br>3.RUBY：准确来说没有这种写法，一般是简写，例如WTO.  </p>
<h2 id="安装方式"><a href="#安装方式" class="headerlink" title="安装方式"></a>安装方式</h2><h3 id="方式1-brew"><a href="#方式1-brew" class="headerlink" title="方式1  brew"></a>方式1  brew</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install ruby</span><br></pre></td></tr></table></figure>
<h3 id="方式2-rvm"><a href="#方式2-rvm" class="headerlink" title="方式2 rvm"></a>方式2 rvm</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rvm install 2.2.4</span><br></pre></td></tr></table></figure>
<p>更多rvm可以参考：<a href="https://ruby-china.org/wiki/rvm-guide" target="_blank" rel="noopener">rvm入门篇-安装和使用</a>  </p>
<h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><p>1.irb：交互式Ruby控制台程序。  </p>
<p>2.<a href="http://www.rvm.io/" target="_blank" rel="noopener">rvm</a>: Ruby Version Manager  </p>
<p>3.VSCode  </p>
<p>4.gem：一套Ruby库和应用程序包管理实用工具  </p>
<p>5.rake：Ruby的make工具，一套任务管理实用工具  </p>
<p>6.rdoc和ri：Ruby文档工具  </p>
<h2 id="ruby解释器命令"><a href="#ruby解释器命令" class="headerlink" title="ruby解释器命令"></a>ruby解释器命令</h2><p>执行ruby文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ruby basic.rb</span><br></pre></td></tr></table></figure>
<p>语法检查而不运行程序：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ruby -cw basic.rb</span><br></pre></td></tr></table></figure>
<p>它会读取文件并指出语法是否有错。更多类似-cw的解释器开关参见文末：解释器的命令行开关。  </p>
<h1 id="Ruby语言基础"><a href="#Ruby语言基础" class="headerlink" title="Ruby语言基础"></a>Ruby语言基础</h1><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h3><p>局部变量以小写字母或者下划线开头，包含字母、下划线或数字。Ruby不是使用的驼峰命名，而是使用下划线将多个单词拼接。例如：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">✅first_name </span><br><span class="line">❎firstName</span><br></pre></td></tr></table></figure>
<h3 id="实例变量"><a href="#实例变量" class="headerlink" title="实例变量"></a>实例变量</h3><p>实例变量通常以一个单独的@开头，后面字符和局部变量命名规则一致。例如：  </p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(temp_name,temp_age)</span></span></span><br><span class="line">        @name = temp_name</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printn</span></span></span><br><span class="line">        <span class="keyword">return</span> @name</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment"># 实例变量</span></span><br><span class="line">p1 = Person.new(<span class="string">"zhangsan"</span>,<span class="number">24</span>)</span><br><span class="line">p p1.printn</span><br><span class="line"><span class="comment">#输出结果为：zhangsan</span></span><br></pre></td></tr></table></figure>
<h3 id="类变量"><a href="#类变量" class="headerlink" title="类变量"></a>类变量</h3><p>类变量命名规则与实例变量一致，但是它以@@符号开头：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class Person</span><br><span class="line">    @@person_number = 0</span><br><span class="line">    def initialize(temp_name,temp_age)</span><br><span class="line">        @name = temp_name</span><br><span class="line">        @@person_number = @@person_number + 1</span><br><span class="line">    end</span><br><span class="line">    def print_person_number</span><br><span class="line">        return @@person_number</span><br><span class="line">    end</span><br><span class="line">end</span><br><span class="line"># 实例变量</span><br><span class="line">p1 = Person.new(&quot;zhangsan&quot;,24)</span><br><span class="line">p p1.print_person_number</span><br><span class="line">输出结果：1</span><br></pre></td></tr></table></figure>
<h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><p>以$开头，它就是一个全局变量，例如：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$FIRST_NAME $population</span><br></pre></td></tr></table></figure>
<h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><p>常量以大写字母开头，如果遇到命名多词组合常量，可以使用驼峰命名法，也可以使用下划线分割且所有字母大写。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A String FirstName FIRST_NAME</span><br></pre></td></tr></table></figure>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><h3 id="方法名"><a href="#方法名" class="headerlink" title="方法名"></a>方法名</h3><p>Ruby中的方法名遵从与局部变量相同的规则和约定。例如：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_first_name</span></span></span><br><span class="line">   <span class="keyword">return</span> @first_name</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h3 id="方法调用"><a href="#方法调用" class="headerlink" title="方法调用"></a>方法调用</h3><p>方法调用使用.运算符。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p1.get_name   #方法调用 </span><br><span class="line">p1.name    #属性调用</span><br></pre></td></tr></table></figure>
<h2 id="引用ruby文件"><a href="#引用ruby文件" class="headerlink" title="引用ruby文件"></a>引用ruby文件</h2><p>可以使用$:查看加载路径。<br>这里主要介绍三种引用方式：load、require、require_relative。  </p>
<h3 id="load"><a href="#load" class="headerlink" title="load"></a>load</h3><p>load命令总是会加载所请求的文件，不论这个文件是否已经加载过。假如一个文件在几次加载过程中发生改变，那么最新版本的文件将优先使用并覆盖之前加载的版本。尤其是在irb会话中，当在编辑器中修改一个文件时，想要立即测试修改的效果，使用load非常有用。  </p>
<h3 id="require"><a href="#require" class="headerlink" title="require"></a>require</h3><p>经常会使用的一个技术，用于请求Ruby扩展或库，不论是标准库还是三方库。<br>requrire就算调用多次也不会重新加载已经加载过的文件。Ruby会持续追踪已经被请求的那些文件而不会重复加载它们。<br>require不能辨识出当前的工作目录（.）。用户可以显式地指定它。例如：  </p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">"./loadee.rb"</span></span><br><span class="line"><span class="keyword">or</span></span><br><span class="line">$: &lt;&lt; <span class="string">"."</span> <span class="comment">#把当前目录添加到加载路径当中。</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">"loadee.rb"</span></span><br></pre></td></tr></table></figure>
<h3 id="require-relative"><a href="#require-relative" class="headerlink" title="require_relative"></a>require_relative</h3><p>这个命令会搜索相对于所在文件的目录来加载功能。这个不用把当前目录添加到加载路径中。</p>
<h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><p>查看某个属性或者变量是什么类型，可以使用.class方法。</p>
<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>字符串插值：  </p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">"zhangsan"</span></span><br><span class="line">age = <span class="string">"20"</span></span><br><span class="line">person_desc = <span class="string">"my name is <span class="subst">#&#123;name&#125;</span>,age is <span class="subst">#&#123;age&#125;</span>"</span></span><br><span class="line">puts person_desc</span><br></pre></td></tr></table></figure>
<p>bang方法：  </p>
<p>Ruby的方法可以以惊叹号(!)结尾，这样的方法称为bang方法。有惊叹号的方法被标记为危险的。因为他可能会改变原有数据的值。例如：  </p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">"Hello World"</span></span><br><span class="line">p str.upcase!  </span><br><span class="line">p str</span><br><span class="line"><span class="comment">#----------------------</span></span><br><span class="line">p str.upcase</span><br><span class="line">p str</span><br></pre></td></tr></table></figure>
<p>更多字符串方法参见：<a href="https://ruby-doc.org/core-2.2.0/String.html" target="_blank" rel="noopener">https://ruby-doc.org/core-2.2.0/String.html</a></p>
<h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><p>Set不是Ruby的核心类，它是一个标准库类，所以使用的时候需要require “set”。它的对象是唯一的。  </p>
<p>构造一个集合：  </p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">'set'</span></span><br><span class="line">s = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">124</span>,<span class="number">45</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">1</span>]</span><br><span class="line">set = Set.new(s)</span><br><span class="line">p set</span><br></pre></td></tr></table></figure>
<p>集合没有字面构造器。  </p>
<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>数组的创建：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#中括号创建 </span></span><br><span class="line">[<span class="string">"zhangsan"</span>,<span class="string">"lisi"</span>,<span class="string">"wangwu"</span>]</span><br></pre></td></tr></table></figure>
<p>注意%W 和%w的区别：  </p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">"Tim"</span></span><br><span class="line">students = <span class="string">%W&#123;zhangsan lisi wangwu <span class="subst">#&#123;name&#125;</span>&#125;</span></span><br><span class="line">students = <span class="string">%w&#123;zhangsan lisi wangwu <span class="subst">#&#123;name&#125;</span>&#125;</span></span><br></pre></td></tr></table></figure>
<p>%w：创建字符串数组的特殊方式  </p>
<p>%W：如果想要对字符串进行解析，使用W  </p>
<p>数组遍历：  </p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">8</span>].each &#123;<span class="params">|item|</span> puts item+<span class="string">"!"</span>&#125;</span><br></pre></td></tr></table></figure>
<p>更多数组方法参见：<a href="https://docs.ruby-lang.org/en/2.0.0/Array.html" target="_blank" rel="noopener">https://docs.ruby-lang.org/en/2.0.0/Array.html</a></p>
<h3 id="散列"><a href="#散列" class="headerlink" title="散列"></a>散列</h3><p>散列在其他语言中有时被称为：字典或者Map。散列由键值组成。例如：  </p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">state_hash = &#123;<span class="string">"January"</span> =&gt; <span class="string">"Jan"</span>,<span class="string">"February"</span> =&gt; <span class="string">"Feb"</span>,<span class="string">"March"</span> =&gt; <span class="string">"Mar"</span>&#125;</span><br><span class="line">state_hash[<span class="string">"April"</span>] = <span class="string">"Apr"</span></span><br><span class="line">puts state_hash[<span class="string">"April"</span>]   <span class="comment">#Result is Apr</span></span><br><span class="line">puts state_hash.<span class="keyword">class</span> <span class="comment">#Result is Hash</span></span><br></pre></td></tr></table></figure>
<h3 id="符号"><a href="#符号" class="headerlink" title="符号"></a>符号</h3><p>符号是Ruby内置类Symbol的实例。它有一个字面构造器：冒号引导符。可以通过这个记号，从字面航辨认出符号与字符串、变量名、方法名或者其他的区别。  </p>
<h4 id="符号的特点："><a href="#符号的特点：" class="headerlink" title="符号的特点："></a>符号的特点：</h4><ol>
<li>不变性。符号是不可变的。符号不能添加字符，一旦它存在，就不能修改  </li>
<li>唯一性。符号是唯一的。无论何时看到:abc，看到的都是同一个对象  </li>
</ol>
<h4 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h4><p>符号最常用的用法：方法参数和散列键：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#方法参数</span></span><br><span class="line">puts <span class="string">"abc"</span>.send(<span class="symbol">:upcase</span>)   <span class="comment">#等价于puts "abc".send(upcase.to_sym)</span></span><br><span class="line"><span class="comment">#输出结果:ABC</span></span><br><span class="line"><span class="comment">#--------------------</span></span><br><span class="line"><span class="comment">#散列键</span></span><br><span class="line">d_hash = &#123;<span class="symbol">:name</span> =&gt; <span class="string">"zhangsan"</span>, <span class="symbol">:age</span> =&gt; <span class="number">25</span>&#125;</span><br><span class="line">puts d_hash[<span class="symbol">:age</span>]</span><br><span class="line"><span class="comment">#输出结果：25</span></span><br></pre></td></tr></table></figure>
<h4 id="使用符号的好处："><a href="#使用符号的好处：" class="headerlink" title="使用符号的好处："></a>使用符号的好处：</h4><p>1.Ruby处理符号更快，因此如果要大量处理散列的查找，就会节省一些时间。如果需要性能上的优化，使用符号作为散列键则可能是个好办法。  </p>
<p>2.Ruby允许一种特殊的符号表现形式在散列键的位置出现，它可以在符号之后使用冒号，同事可以替代散列的分割箭头符，例如：  </p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">d_hash = &#123;<span class="symbol">name:</span> <span class="string">"zhangsan"</span>,<span class="symbol">age:</span> <span class="number">23</span>&#125;</span><br><span class="line"><span class="comment">#等价于</span></span><br><span class="line">d_hash = &#123;<span class="string">"name"</span> =&gt; <span class="string">"zhangsan"</span>,<span class="string">"age"</span> =&gt; <span class="number">23</span>&#125;</span><br></pre></td></tr></table></figure>
<h2 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h2><h3 id="创建类"><a href="#创建类" class="headerlink" title="创建类"></a>创建类</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span></span><br><span class="line">    <span class="keyword">attr_accessor</span> <span class="symbol">:s_name</span>,<span class="symbol">:s_age</span>, <span class="symbol">:s_class</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(name,age,t_class)</span></span></span><br><span class="line">        @s_name =  name</span><br><span class="line">        @s_age = age</span><br><span class="line">        @s_class = t_class</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">study</span></span></span><br><span class="line">        puts <span class="string">"study"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line">s1 = Student.new(<span class="string">"zhangsan"</span>,<span class="number">15</span>,<span class="string">"1年级"</span>)</span><br><span class="line">p s1.s_name</span><br><span class="line">s1.study</span><br></pre></td></tr></table></figure>
<h3 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h3><p>Ruby语言遵从单继承原则，无法继承多个类，也就意味着它只是一个超类。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> &lt; People</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h3 id="给类添加属性"><a href="#给类添加属性" class="headerlink" title="给类添加属性"></a>给类添加属性</h3><p>原始添加方法：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ticket</span></span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(ve,date)</span></span></span><br><span class="line">      @venue = ve</span><br><span class="line">      @date = date</span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">price=</span><span class="params">(pr)</span></span></span><br><span class="line">      @price = pr</span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">venue</span></span></span><br><span class="line">      @venue</span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">date</span></span></span><br><span class="line">      @date</span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">price</span></span></span><br><span class="line">      @price</span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h4 id="attr-reader-amp-attr-writer"><a href="#attr-reader-amp-attr-writer" class="headerlink" title="attr_reader &amp; attr_writer"></a>attr_reader &amp; attr_writer</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ticket</span></span></span><br><span class="line">   <span class="keyword">attr_reader</span> <span class="symbol">:venue</span>, <span class="symbol">:date</span>, <span class="symbol">:price</span>   <span class="comment">#读取方法</span></span><br><span class="line">   <span class="keyword">attr_writer</span> <span class="symbol">:venue</span>, <span class="symbol">:date</span>, <span class="symbol">:price</span>   <span class="comment">#写方法</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(ve,date)</span></span></span><br><span class="line">      @venue = ve</span><br><span class="line">      @date = date</span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line">ti = Ticket.new(<span class="string">"北京大学"</span>,<span class="string">"2019-09-01"</span>)</span><br><span class="line">ti.venue = <span class="string">"sdfsdfd"</span></span><br><span class="line">puts ti.venue</span><br></pre></td></tr></table></figure>
<h4 id="attr-accessor"><a href="#attr-accessor" class="headerlink" title="attr_accessor"></a>attr_accessor</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ticket</span></span></span><br><span class="line">    <span class="keyword">attr_accessor</span> <span class="symbol">:price</span>,<span class="symbol">:venue</span>,<span class="symbol">:date</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(ve,date)</span></span></span><br><span class="line">        @venue = ve</span><br><span class="line">        @date = date</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">ti = Ticket.new(<span class="string">"北京大学"</span>,<span class="string">"2019-09-01"</span>)</span><br><span class="line">ti.price = <span class="number">200</span></span><br><span class="line">puts ti.price</span><br></pre></td></tr></table></figure>
<p>区别于attr，attr: price只生成了reader，attr: price,true会生成getter和setter。</p>
<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><p>Ruby鼓励读者进行模块化设计：将大的组件分解为小的，并可以混合(mixin)和匹配对象的行为。和类一样，模块是一组方法和常量的集合。  </p>
<p>模块是使用混合到类的方式。  </p>
<p>模块没有实例  </p>
<p>创建模块使用module关键字：  </p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">module</span> <span class="title">Category</span></span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">say_hello</span></span></span><br><span class="line">        puts <span class="string">"Category's Hello"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span></span><br><span class="line">    <span class="keyword">include</span> Category    <span class="comment">#引用模块</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initialize</span></span></span><br><span class="line">         </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">st = Student.new</span><br><span class="line">st.say_hello</span><br></pre></td></tr></table></figure>
<h3 id="include-vs-prepend"><a href="#include-vs-prepend" class="headerlink" title="include vs prepend"></a>include vs prepend</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">module</span> <span class="title">ModuleGoOne</span></span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">go</span></span></span><br><span class="line">        puts <span class="string">"ModuleGoOne's go"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="class"><span class="keyword">module</span> <span class="title">ModuleGoTwo</span></span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">go</span></span></span><br><span class="line">        puts <span class="string">"ModuleGoTwo's go"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> &lt; Person</span></span><br><span class="line">    <span class="keyword">include</span> ModuleGoOne</span><br><span class="line">    prepend ModuleGoTwo</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">go</span></span></span><br><span class="line">        puts <span class="string">"Student's go"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">st = Student.new</span><br><span class="line">st.goto</span><br><span class="line"><span class="comment"># Result is ModuleGoTwo's go</span></span><br></pre></td></tr></table></figure>
<h4 id="方法查找规则"><a href="#方法查找规则" class="headerlink" title="方法查找规则"></a>方法查找规则</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">module</span> <span class="title">ModuleGoOne</span></span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">go</span></span></span><br><span class="line">        puts <span class="string">"ModuleGoOne's go"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">module</span> <span class="title">ModuleGoTwo</span></span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">go</span></span></span><br><span class="line">        puts <span class="string">"ModuleGoTwo's go"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">go</span></span></span><br><span class="line">        puts <span class="string">"Person's go"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> &lt; Person</span></span><br><span class="line">    <span class="keyword">include</span> ModuleGoOne</span><br><span class="line">    prepend ModuleGoTwo</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">go</span></span></span><br><span class="line">        puts <span class="string">"Student's go"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">st = Student.new</span><br><span class="line">st.go</span><br></pre></td></tr></table></figure>
<p>方法查找规则：</p>
<p><img src="https://raw.githubusercontent.com/ScottZg/MarkDownResource/master/ruby/method-search.png" alt="img"></p>
<p>1.先查找当前类中是否有该方法，如果有，则直接调用，执行完毕；  </p>
<p>2.查找module中是否有该方法，如果有，则调用，执行完毕；  </p>
<p>3.查找父类中是否有该方法，父类中是否有module，如果有prepend模块，则先调用，没有的话如果有在类中定义，则调用；  </p>
<p>4.所属的超类  </p>
<p>5.内置Kernel模块  </p>
<p>6.BasicObject  </p>
<p>7.method_missing  NoMethodError  </p>
<h2 id="Ruby块yield"><a href="#Ruby块yield" class="headerlink" title="Ruby块yield"></a>Ruby块yield</h2><p>块由大量代码组成。  </p>
<p>块中的代码总是包含在大括号内  </p>
<p>块的调用：需要与其相同名称的方法调用  </p>
<p>可以使用yield语句来调用块  </p>
<p>每个Ruby源文件可以声明当文件被加载时要运行的代码块（BEGIN），以及程序完成执行后要运行的代码块（END）。  </p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">BEGIN</span> &#123;</span><br><span class="line">    puts <span class="string">"BEGIN..."</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">END</span> &#123;</span><br><span class="line">    puts <span class="string">"END......."</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span></span></span><br><span class="line">    <span class="keyword">yield</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line">test &#123;puts <span class="string">"Hello"</span>&#125;</span><br><span class="line"><span class="comment">=begin</span></span><br><span class="line"><span class="comment">def test</span></span><br><span class="line"><span class="comment">    puts "在test方法内"</span></span><br><span class="line"><span class="comment">    yield</span></span><br><span class="line"><span class="comment">    puts "又回到了test方法"</span></span><br><span class="line"><span class="comment">    yield</span></span><br><span class="line"><span class="comment">end</span></span><br><span class="line"><span class="comment">test &#123;puts "你在块内"&#125;</span></span><br><span class="line"><span class="comment">=end</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">=begin</span></span><br><span class="line"><span class="comment">def test</span></span><br><span class="line"><span class="comment">    puts "在test方法内"</span></span><br><span class="line"><span class="comment">    yield 10</span></span><br><span class="line"><span class="comment">    puts "又回到了test方法"</span></span><br><span class="line"><span class="comment">    yield 20</span></span><br><span class="line"><span class="comment">end</span></span><br><span class="line"><span class="comment">test &#123;|i| puts "你在块内#&#123;i&#125;"&#125;</span></span><br><span class="line"><span class="comment">=end</span></span><br></pre></td></tr></table></figure>
<h1 id="iTools"><a href="#iTools" class="headerlink" title="iTools"></a>iTools</h1><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>它是一个指令集，里面包含了一些比较实用的命令，可以方便用户的一些操作，例如：查找无用图片、查找无用类、在某个文件或者文件夹中查找某个字符串、查找某个文件等。  </p>
<p>链接：<a href="https://rubygems.org/gems/itools" target="_blank" rel="noopener">https://rubygems.org/gems/itools</a></p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem install itools</span><br></pre></td></tr></table></figure>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">NAME</span><br><span class="line">    itools - a collection of tools for ios developer</span><br><span class="line"></span><br><span class="line">SYNOPSIS</span><br><span class="line">    itools [global options] command [command options] [arguments...]</span><br><span class="line"></span><br><span class="line">VERSION</span><br><span class="line">    0.4.7</span><br><span class="line"></span><br><span class="line">GLOBAL OPTIONS</span><br><span class="line">    --help    - Show this message</span><br><span class="line">    --version - Display the program version</span><br><span class="line"></span><br><span class="line">COMMANDS</span><br><span class="line">    count_code_line    - count lines of code</span><br><span class="line">    find               - search unuse image</span><br><span class="line">    help               - Shows a list of commands or help for one command</span><br><span class="line">    parse              - Analyze the memory footprint of each part or component in Xcode project</span><br><span class="line">    pre_commit         - 通过执行该命令，hook 本地commit，然后进行规范化</span><br><span class="line">    search             - search str(or strs) in some file(or folder&apos;s file)</span><br><span class="line">    search_file        - search File in folder</span><br><span class="line">    search_unuse_class - search unuse class</span><br><span class="line">    size_for           - calculate the memory footprint of file or folder(contain file)</span><br></pre></td></tr></table></figure>
<p>更多参见：<a href="https://github.com/ScottZg/itools" target="_blank" rel="noopener">https://github.com/ScottZg/itools</a></p>
<h1 id="推荐"><a href="#推荐" class="headerlink" title="推荐"></a>推荐</h1><h2 id="网站"><a href="#网站" class="headerlink" title="网站"></a>网站</h2><p>1.gems：<a href="https://rubygems.org/" target="_blank" rel="noopener">https://rubygems.org/</a>  </p>
<p>2.官方文档：<a href="https://docs.ruby-lang.org/en/" target="_blank" rel="noopener">https://docs.ruby-lang.org/en/</a>  </p>
<h2 id="书籍"><a href="#书籍" class="headerlink" title="书籍"></a>书籍</h2><p>1.<a href="http://product.m.dangdang.com/product.php?pid=1174658069" target="_blank" rel="noopener">《Ruby程序员修炼之道》</a></p>
<h1 id="附"><a href="#附" class="headerlink" title="附"></a>附</h1><h2 id="预定义全局变量表"><a href="#预定义全局变量表" class="headerlink" title="预定义全局变量表"></a>预定义全局变量表</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">Pre-<span class="keyword">defined</span> variables</span><br><span class="line">$!         The exception information message set by <span class="string">'raise'</span>.</span><br><span class="line">$@         Array of backtrace of the last exception thrown.</span><br><span class="line">$&amp;         The string matched by the last successful match.</span><br><span class="line">$`         The string to the left  of the last successful match.</span><br><span class="line">$'         The string to the right of the last successful match.</span><br><span class="line">$+         The highest group matched by the last successful match.</span><br><span class="line">$1         The Nth group of the last successful match. May be &gt; <span class="number">1</span>.</span><br><span class="line">$~         The information about the last match <span class="keyword">in</span> the current scopke.</span><br><span class="line">$=         The flag <span class="keyword">for</span> <span class="keyword">case</span> insensitive, <span class="literal">nil</span> by default.</span><br><span class="line">$/         The input record separator, newline by default.</span><br><span class="line">$\         The output record separator <span class="keyword">for</span> the print <span class="keyword">and</span> IO<span class="comment">#write. Default is nil.</span></span><br><span class="line">$,         The output field separator <span class="keyword">for</span> the print <span class="keyword">and</span> Array<span class="comment">#join.</span></span><br><span class="line">$;         The default separator <span class="keyword">for</span> String<span class="comment">#split.</span></span><br><span class="line">$.         The current input line number of the last file that was read.</span><br><span class="line">$&lt;         The virtual concatenation file of the files given on command line (<span class="keyword">or</span> from $stdin <span class="keyword">if</span> no files were given).</span><br><span class="line">$&gt;         The default output <span class="keyword">for</span> print, printf. $stdout by default.</span><br><span class="line">$_         The last input line of string by gets <span class="keyword">or</span> readline.</span><br><span class="line">$0         Contains the name of the script being executed. May be assignable.</span><br><span class="line">$*         Command line arguments given <span class="keyword">for</span> the script sans args.</span><br><span class="line">$$         The process number of the Ruby running this script.</span><br><span class="line">$?         The status of the last executed child process.</span><br><span class="line">$:         Load path <span class="keyword">for</span> scripts <span class="keyword">and</span> binary modules by load <span class="keyword">or</span> <span class="keyword">require</span>.</span><br><span class="line">$"         The array contains the <span class="class"><span class="keyword">module</span> <span class="title">names</span> <span class="title">loaded</span> <span class="title">by</span> <span class="title">require</span>.</span></span><br><span class="line">$DEBUG     The status of the -d switch.</span><br><span class="line">$FILENAME  Current input file from $&lt;. Same as $&lt;.filename.</span><br><span class="line">$LOAD_PATH The <span class="keyword">alias</span> to the $:.</span><br><span class="line">$stderr    The current standard error output.</span><br><span class="line">$stdin     The current standard input.</span><br><span class="line">$stdout    The current standard output.</span><br><span class="line">$VERBOSE   The verbose flag, which is set by the -v switch.</span><br><span class="line">$-<span class="number">0</span>        The <span class="keyword">alias</span> to $/.</span><br><span class="line">$-a        True <span class="keyword">if</span> option -a is set. Read-only variable.</span><br><span class="line">$-d        The <span class="keyword">alias</span> to $DEBUG.</span><br><span class="line">$-F        The <span class="keyword">alias</span> to $;.</span><br><span class="line">$-i        In <span class="keyword">in</span>-place-edit mode, this variable holds the extension, otherwise <span class="literal">nil</span>.</span><br><span class="line">$-I        The <span class="keyword">alias</span> to $:.</span><br><span class="line">$-l        True <span class="keyword">if</span> option -l is set. Read-only variable.</span><br><span class="line">$-p        True <span class="keyword">if</span> option -p is set. Read-only variable.</span><br><span class="line">$-v        The <span class="keyword">alias</span> to $VERBOSE.</span><br><span class="line">$    -w        True <span class="keyword">if</span> option -w is set.</span><br></pre></td></tr></table></figure>
<h2 id="解释器的命令行开关"><a href="#解释器的命令行开关" class="headerlink" title="解释器的命令行开关"></a>解释器的命令行开关</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Usage:</span> ruby [switches] [--] [programfile] [arguments]</span><br><span class="line">  -<span class="number">0</span>[octal]       specify record separator (\<span class="number">0</span>, <span class="keyword">if</span> no argument)</span><br><span class="line">  -a              autosplit mode with -n <span class="keyword">or</span> -p (splits $_ into $F)</span><br><span class="line">  -c              check syntax only</span><br><span class="line">  -Cdirectory     cd to directory before executing your script</span><br><span class="line">  -d              set debugging flags (set $DEBUG to <span class="literal">true</span>)</span><br><span class="line">  -e <span class="string">'command'</span>    one line of script. Several -e<span class="string">'s allowed. Omit [programfile]</span></span><br><span class="line"><span class="string">  -Eex[:in]       specify the default external and internal character encodings</span></span><br><span class="line"><span class="string">  -Fpattern       split() pattern for autosplit (-a)</span></span><br><span class="line"><span class="string">  -i[extension]   edit ARGV files in place (make backup if extension supplied)</span></span><br><span class="line"><span class="string">  -Idirectory     specify $LOAD_PATH directory (may be used more than once)</span></span><br><span class="line"><span class="string">  -l              enable line ending processing</span></span><br><span class="line"><span class="string">  -n              assume '</span><span class="keyword">while</span> gets(); ... <span class="keyword">end</span><span class="string">' loop around your script</span></span><br><span class="line"><span class="string">  -p              assume loop like -n but print line also like sed</span></span><br><span class="line"><span class="string">  -rlibrary       require the library before executing your script</span></span><br><span class="line"><span class="string">  -s              enable some switch parsing for switches after script name</span></span><br><span class="line"><span class="string">  -S              look for the script using PATH environment variable</span></span><br><span class="line"><span class="string">  -T[level=1]     turn on tainting checks</span></span><br><span class="line"><span class="string">  -v              print version number, then turn on verbose mode</span></span><br><span class="line"><span class="string">  -w              turn warnings on for your script</span></span><br><span class="line"><span class="string">  -W[level=2]     set warning level; 0=silence, 1=medium, 2=verbose</span></span><br><span class="line"><span class="string">  -x[directory]   strip off text before #!ruby line and perhaps cd to directory</span></span><br><span class="line"><span class="string">  -h              show this message, --help for more info</span></span><br></pre></td></tr></table></figure>
<p>转发请标注出处：<a href="http://supermokey.com/2019/01/16/ruby/">http://supermokey.com/2019/01/16/ruby/</a></p>
</div><div class="tags"><a href="/tags/Ruby/">Ruby</a></div><div class="post-nav"><a class="pre" href="/2019/01/18/git-branch-standard/">Git分支管理规范</a><a class="next" href="/2018/12/21/interpreted-vs-compiled/">解释型语言、编译型语言</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://supermokey.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Xcode/" style="font-size: 15px;">Xcode</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/解释型语言/" style="font-size: 15px;">解释型语言</a> <a href="/tags/编译型语言/" style="font-size: 15px;">编译型语言</a> <a href="/tags/字节码/" style="font-size: 15px;">字节码</a> <a href="/tags/UIStatusBar/" style="font-size: 15px;">UIStatusBar</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/Ruby/" style="font-size: 15px;">Ruby</a> <a href="/tags/Accessibility/" style="font-size: 15px;">Accessibility</a> <a href="/tags/LinkMapFile/" style="font-size: 15px;">LinkMapFile</a> <a href="/tags/LivePhoto/" style="font-size: 15px;">LivePhoto</a> <a href="/tags/HEVC/" style="font-size: 15px;">HEVC</a> <a href="/tags/HEIF/" style="font-size: 15px;">HEIF</a> <a href="/tags/WebDriverAgent/" style="font-size: 15px;">WebDriverAgent</a> <a href="/tags/3D-Touch/" style="font-size: 15px;">3D Touch</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/06/20/uistatusbar/">设置UIstatusBarStyle的正确姿势</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/15/3d-touch-guide/">你想知道的3D Touch开发全在这里了</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/18/git-branch-standard/">Git分支管理规范</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/16/ruby/">Ruby入坑指南</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/21/interpreted-vs-compiled/">解释型语言、编译型语言</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/20/link-map-file-known/">对Link Map File的初步认识</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/28/create-own-gem/">RubyGems系列之创建自己的gem</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/28/rubygems-know/">RubyGems系列之RubyGems初识</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/21/xcode10-feature/">关于Xcode10的那些事</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/05/wda/">WebDriverAgent入门篇-安装和使用</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 超链接</i></div><ul></ul><a href="http://cnblogs.com/zhanggui" title="我的博客园" target="_blank">我的博客园</a><ul></ul><a href="http://www.zhaoyafei.cn" title="赵亚飞的博客" target="_blank">赵亚飞的博客</a><ul></ul><a href="http://www.maoyan.com" title="猫眼电影" target="_blank">猫眼电影</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">我不是掌柜.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>